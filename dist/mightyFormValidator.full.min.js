"function"!=typeof Object.create&&(Object.create=function(t){"use strict";function e(){}return e.prototype=t,new e});var eventsNamespaceBinder={on:function(t,e,i){"use strict";this.namespaces||(this.namespaces={}),this.namespaces[t]=e;var a=i||!1;return this.addEventListener(t.split(".")[0],e,a),this},off:function(t){"use strict";if(void 0!==this.namespaces)if(void 0===t.split(".")[1])for(var e in this.namespaces)e.split(".")[0]===t&&(this.removeEventListener(t,this.namespaces[e]),delete this.namespaces[e]);else this.namespaces.hasOwnProperty(t)&&(this.removeEventListener(t.split(".")[0],this.namespaces[t]),delete this.namespaces[t]);return this}};window.on=Element.prototype.on=eventsNamespaceBinder.on,window.off=Element.prototype.off=eventsNamespaceBinder.off;var mightyFormValidator=function(){"use strict";var n={initialRun:!1,initialRunTimeout:10,parentSelector:!1,classes:{passed:"validation-passed",failed:"validation-failed"},debug:!1},d={log:function(t){!0===n.debug&&console.log(t)},getAncestor:function(t,e){switch(e.charAt(0)){case"#":for(e=e.substr(1);(t=t.parentElement)&&t.id!==e;);break;case".":for(e=e.substr(1);(t=t.parentElement)&&!t.classList.contains(e););break;default:for(e=e.toUpperCase();(t=t.parentElement)&&t.tagName!==e;);}return t}},s={add:function(t,e){return d.log("Function: validators.add()"),("string"==typeof t||t instanceof String)&&2<t.length&&"default"!==t&&"general"!==t?t in s.validator?(d.log("FAIL: Duplicated validator name"),!1):"object"!=typeof e||"function"!=typeof e.validate?(d.log("FAIL: invalid validator object or validate() function is missing"),!1):(d.log("SUCCESS: Validator with name `"+t+"` added"),void(s.validator[t]=e)):(d.log("FAIL: invalid validator name"),!1)},validator:{notempty:{validate:function(t){return d.log("Function: notempty.validate()"),0<t.value.trim().length}}}},i={bind:function(t,e){d.log("Function: events.bind for field"),null==e&&(e=[]),t.addEventListener("blur",function(){i.onChange(t,e)},!1),t.addEventListener("change",function(){i.onChange(t,e)},!1),!0===n.initialRun&&u.validateInput(t,e)},onChange:function(t,e){d.log("Function: events.onchange");var i=u.getValidatorOptions(t);if(u.validateInput(t,e),d.log("Check for trigger validation"),d.log(i),void 0!==i.general&&void 0!==i.general.triggerValidation&&""!==i.general.triggerValidation.trim()){var a=i.general.triggerValidation.trim();d.log("Trigger validation of other field: #"+a);var o=document.getElementById(a);null!=o&&setTimeout(function(){u.validateInput(o)},50)}}},u={getValidators:function(t){d.log("Function: validation.getValidators()");var e=t.dataset.validators,i=[];return void 0!==e&&0<e.length&&(0<=e.indexOf(",")?i=e.split(","):i.push(e)),i},getValidatorOptions:function(t){var e={};return"validatorOptions"in t.dataset&&""!==t.dataset.validatorOptions.trim()&&void 0===(e=JSON.parse(t.dataset.validatorOptions.trim()))&&(e={}),e},getErrorMessage:function(t){var e="";return"errortext"in t.dataset&&(e=t.dataset.errormessage),e},setErrorText:function(t,e){return("string"==typeof e||e instanceof String)&&(t.dataset.errortext=e),e},updateInput:function(t,e){d.log("Function: validation.updateInput()");var i="",a=t.parentElement;if(!1!==n.parentSelector){var o=d.getAncestor(t,n.parentSelector);null!==o&&(a=o)}var r=a.querySelector(".message-error");!0===e?(d.log("Update valid"),a.classList.remove(n.classes.failed),a.classList.add(n.classes.passed),null!==r&&r.remove()):!1===e?(d.log("Update invalid"),a.classList.remove(n.classes.passed),a.classList.add(n.classes.failed),i=u.getErrorMessage(t)):(d.log("Update undefined (not valid and not invalid)"),a.classList.remove(n.classes.failed),a.classList.remove(n.classes.passed),null!==r&&r.remove()),i&&0<i.length&&!1===e&&setTimeout(function(){null!==(r=a.querySelector(".message-error"))&&r.remove(),(r=document.createElement("span")).classList.add("message-error"),r.classList.add("message-error--validation"),r.innerText=i,a.appendChild(r)},100)},validateInput:function(t,e){var i,a,o=!1;if(d.log("Function: validation.validateInput()"),null==e&&(e=u.getValidators(t)),a=u.getValidatorOptions(t),!t.hasAttribute("hidden")&&!t.hasAttribute("disabled")){if((void 0===i||!0===i)&&(t.hasAttribute("required")||0<=e.indexOf("notempty")||"validateRequired"in t.dataset)){d.log("Validate not empty or required");var r={};void 0!==a.notempty&&(r=a.notempty),o=!0,i=s.validator.notempty.validate(t,r),d.log(i),!0!==i&&void 0!==r.errorText&&""!==r.errorText.trim()&&u.setErrorText(t,r.errorText.trim())}if(!0===o&&!0===i||!0!==o&&""!==t.value){d.log("Loop through validators");for(var n=0;n<e.length;n++)if("notempty"!==e[n]&&(void 0===i||!0===i)&&e[n]in s.validator){d.log("Validate: "+e[n]);var l={};void 0!==a[e[n]]&&(l=a[e[n]]),i=s.validator[e[n]].validate(t,l),d.log(i),!0!==i&&void 0!==l.errorText&&""!==l.errorText.trim()&&u.setErrorText(t,l.errorText.trim())}}d.log("Update dom"),u.updateInput(t,i)}},enableInput:function(t){if(d.log("Function: validation.enableInput()"),"validators"in t.dataset){var e=u.getValidators(t);d.log(e),0<e.length&&i.bind(t,e)}},enableForm:function(t){d.log("Function: validation.enableForm()");var e=t.getElementsByClassName("mfvField"),i=!1,a={};if("validatorOptions"in t.dataset&&""!==t.dataset.validatorOptions.trim()&&(a=JSON.parse(t.dataset.validatorOptions.trim())),void 0!==a.debug&&!0===a.debug?n.debug=!0:n.debug=!1,void 0!==a.initialRun&&!0===a.initialRun&&(i=!0),void 0!==a.classes)for(var o in d.log(a.classes),n.classes)"string"==typeof a.classes[o]&&0<a.classes[o].trim().length&&(n.classes[o]=a.classes[o].trim());if(void 0!==a.parentSelector&&0<a.parentSelector.trim().length&&(n.parentSelector=a.parentSelector.trim()),d.log(n),null!==e&&0<e.length){for(var r=0;r<e.length;r++)u.enableInput(e[r]);!0===i&&setTimeout(function(){for(var t=0;t<e.length;t++)u.validateInput(e[t])},n.initialRunTimeout)}}};return{init:function(){d.log("Function: init"),d.log(n),d.log(s);var t=document.getElementsByClassName("mfvForm");if(null!==t&&0<t.length)for(var e=0;e<t.length;e++)u.enableForm(t[e])},validators:s,utilities:d}}();"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?mightyFormValidator.init():document.addEventListener("DOMContentLoaded",mightyFormValidator.init()),function(){"use strict";mightyFormValidator.validators.add("_template",{validate:function(t){return mightyFormValidator.utilities.log("Function: _template.validate()"),""!==t.value}})}(),function(){"use strict";mightyFormValidator.validators.add("date",{validateSimple:function(t){mightyFormValidator.utilities.log("Function: date.validateSimple()");var e=t.value;return!!new RegExp(/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/,"i").test(e)},validate:function(t,e){mightyFormValidator.utilities.log("Function: dateadvanced.validate()");var i,a=t,o=a.value,r=o.replace(/\//g,"-"),n=r.split("-"),l=new Date,d=new Date;if(void 0===e&&(e={}),mightyFormValidator.utilities.log(e),void 0!==e.acceptShortyear&&!0===e.acceptShortyear)if(void 0!==n[2]&&null!==n[2]&&2===n[2].length){if(!0===(i=!!new RegExp(/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{2}$/,"i").test(r))){var s=l.getFullYear().toString().substr(-2),u=l.getFullYear().toString().substr(0,2);mightyFormValidator.utilities.log("currentShortYear:"+s),0<=parseInt(n[2])&&parseInt(n[2])<=parseInt(s)?(mightyFormValidator.utilities.log("Should be in 2000"),n[2]=u+n[2]):(mightyFormValidator.utilities.log("Should be in 1900"),n[2]=parseInt(u)-1+n[2])}}else i=mightyFormValidator.validators.validator.date.validateSimple(a);else i=mightyFormValidator.validators.validator.date.validateSimple(a);void 0!==i&&!0!==i||(mightyFormValidator.utilities.log("Dateadvanced: check for real date"),i=parseInt(n[2])+"-"+parseInt(n[1])+"-"+parseInt(n[0])==(d=new Date(n[2],n[1]-1,n[0])).getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate());if((void 0===i||!0===i)&&(mightyFormValidator.utilities.log(e),void 0!==e.allowFuture&&!1===e.allowFuture&&(i=d<=l),!0===i&&void 0!==e.correctFormat&&!0===e.correctFormat)){var m=("0"+d.getDate()).slice(-2)+"-"+("0"+(d.getMonth()+1)).slice(-2)+"-"+d.getFullYear();mightyFormValidator.utilities.log("newData: "+m),m!==o&&(a.value=m)}return i}})}(),function(){"use strict";mightyFormValidator.validators.add("email",{validate:function(t){mightyFormValidator.utilities.log("Function: email.validate()");var e=t.value;return 2<=e.length&&/\S+@\S+\.\S+/.test(e)}})}(),function(){"use strict";mightyFormValidator.validators.add("equals",{validate:function(t,e){mightyFormValidator.utilities.log("Function: equals.validate()");var i,a,o=t.value;(void 0===e&&(e={}),mightyFormValidator.utilities.log(e),void 0!==e.compareElement&&""!==e.compareElement&&(a=document.querySelector(e.compareElement)),null!==a)?i=a.value===o:i=!1;return i}})}(),function(){"use strict";mightyFormValidator.validators.add("length",{validate:function(t,e){mightyFormValidator.utilities.log("Function: minmax.validate()");var i=t.value,a=-1,o=-1;return void 0===e&&(e={}),mightyFormValidator.utilities.log(e),void 0!==e.min&&(a=parseInt(e.min),mightyFormValidator.utilities.log(a),"number"!=typeof a&&(a=-1),mightyFormValidator.utilities.log(a)),void 0!==e.max&&(o=parseInt(e.max),mightyFormValidator.utilities.log(o),("number"!=typeof o||o<1)&&(o=-1),mightyFormValidator.utilities.log(o)),!0===(a<0||0<a&&i.length>=a)&&(o<0||0<o&&i.length<=o)}})}(),mightyFormValidator.validators.add("number",{validate:function(t,e){"use strict";mightyFormValidator.utilities.log("Function: number.validate()");var i,a=t.value;return void 0===e&&(e={}),mightyFormValidator.utilities.log(e),!0===(i=!(isNaN(parseFloat(a))||!isFinite(a)))&&void 0!==e.decimals&&!1===e.decimals&&parseFloat(a)!==parseInt(a)&&(i=!1),i}}),function(){"use strict";mightyFormValidator.validators.add("regex",{validate:function(t,e){mightyFormValidator.utilities.log("Function: regex.validate()");var i,a=t.value;void 0===e&&(e={}),mightyFormValidator.utilities.log(e),void 0!==e.regex&&""!==e.regex&&(i=!!new RegExp(e.regex,"i").test(a));return i}})}(),function(){"use strict";mightyFormValidator.validators.add("zipcode",{regex:{NL:/^\d{4}[ ]?[a-z, A-Z]{2}$/,BE:/^\d{4}$/,DE:/^\d{5}$/},addRegex:function(t,e){mightyFormValidator.utilities.log("Function: zipcode.addRegex()"),mightyFormValidator.validators.validator.zipcode.regex[t.toUpperCase()]=e},correctFormat:function(t,e){mightyFormValidator.utilities.log("Function: zipcode.correctFormat()");var i=t;return"NL"===e&&(i=i.toUpperCase()).length<7&&(i=i.substr(0,4)+" "+i.substr(4)),i},validate:function(t,e){mightyFormValidator.utilities.log("Function: zipcode.validate()");var i,a=t,o=t.value;void 0===e&&(e={}),mightyFormValidator.utilities.log(e);var r="NL",n=mightyFormValidator.validators.validator.zipcode.regex.NL;if(void 0!==e.country&&""!==e.country&&void 0!==mightyFormValidator.validators.validator.zipcode.regex[e.country.toUpperCase()]&&(r=e.country.toUpperCase(),n=mightyFormValidator.validators.validator.zipcode.regex[e.country.toUpperCase()]),2<=o.length){if(!0===(i=n.test(o))&&void 0!==e.correctFormat&&!0===e.correctFormat){var l=mightyFormValidator.validators.validator.zipcode.correctFormat(o,r);l!==o&&(a.value=l)}}else i=!1;return i}})}();